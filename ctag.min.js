var CTAG;!function(t){var n=function(){function e(){}return e.prototype.register=function(e){this.body.innerHTML=e,this.instances=o.renderChildren(this.body);var t=this.body.querySelectorAll("[eid]");this.elements={};for(var n=0;n<t.length;n++)this.elements[t[n].getAttribute("eid")]=t[n]},e.prototype.staticStyles=function(e){o.registerStyle(e,this.tagName)},e.prototype.styles=function(e,t){o.registerTargetedStyle(t,this.tagName,e)},e.prototype.attr=function(e){var t=this.body.getAttribute(e);return null==t?"":t},e}();t.CtagBase=n;var i=function(){function e(){}return e.tagList=[],e.styleList=[],e.styleTargets=[],e.styleVariableList=[],e.identifiedInstances=[],e.identifiedNotifiers=[],e.bindToTag=function(t,n){t=t.toLowerCase(),null==e.tagList[t]?(e.tagList[t]=n,o.monitorTag(t),setTimeout(function(){for(var e=document.querySelectorAll(t),n=0;n<e.length;n++)!function(){var t=e[n];setTimeout(function(){o.render({target:t})},0)}()},0)):console.error("Ctag: This tag is already bound to a class.")},e.registerVariable=function(t,n){e.styleVariableList[t]=n},e.registerId=function(t,n){e.identifiedInstances[t]=n},e}();t.CtagRegistry=i;var r=function(){function e(){}return e.getMatches=function(e,t,n){n||(n=1);for(var i,r=[];i=t.exec(e);)r.push(i[n]);return r},e}();t.RegExExtensions=r;var a=function(){function e(){}return e.renderCss=function(e,t){var n=e.replace(/(this\.)+/gi,t+" ."),a=r.getMatches(n,/~{([\d|\w|_]+)}/g,1);a=a.filter(function(e,t,n){return n.indexOf(e)===t});for(var o=0;o<a.length;o++)null!=i.styleVariableList[a[o]]&&(n=n.replace(new RegExp("(~{"+a[o]+"})","g"),i.styleVariableList[a[o]]));return n},e}();t.Renderer=a;var o=function(){function t(){}return t.cssHackBaseElement=null,t.initialized=!1,t.initialize=function(){t.initialized||(t.initialized=!0,t.cssHackBaseElement=document.createElement("STYLE"),t.cssHackBaseElement.setAttribute("type","text/css"),t.cssHackBaseElement.innerHTML=".ctag_display_unset{display:inline;display:initial;}@keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-moz-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-webkit-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-ms-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-o-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}",document.addEventListener("animationstart",function(e){var n=e;setTimeout(function(){t.render({target:n.target})})},!0),document.addEventListener("MSAnimationStart",function(e){var n=e;setTimeout(function(){t.render({target:n.target})})},!0),document.addEventListener("webkitAnimationStart",function(e){var n=e;setTimeout(function(){t.render({target:n.target})})},!0),document.head.appendChild(t.cssHackBaseElement))},t.render=function(e){var t=i.tagList[e.target.tagName.toLowerCase()];if(e.target.classList.remove("ctag_display_reset"),null!=t&&null==e.target.getAttribute("ctag-rendered")){var n=new t;n.tagName=e.target.tagName.toLowerCase();var r=e.target.innerHTML;e.target.innerHTML="",n.body=e.target,n.existingElementTarget=null,n.load(),null!=n.existingElementTarget&&(n.existingElementTarget.innerHTML=r);var a=e.target.getAttribute("id");null!=a&&(i.registerId(a,n),null!=i.identifiedNotifiers[a]&&i.identifiedNotifiers[a](n));for(var o=0;o<e.target.attributes.length;o++)e.target.children[0].setAttribute(e.target.attributes[o].name,e.target.attributes[o].value);return e.target.setAttribute("ctag-rendered","true"),e.target.classList.add("ctag_display_unset"),n}return null},t.renderChildren=function(n){var r={};for(e in i.tagList)for(var a=n.querySelectorAll(e),o=0;o<a.length;o++){var s=t.render({target:a[o]});null!=a[o].getAttribute("eid")&&(r[a[o].getAttribute("eid")]=s)}return r},t.registerStyle=function(e,t){if(null==i.styleList[t]){var n=a.renderCss(e,t);i.styleList[t]=n;var r=document.createElement("STYLE");r.innerHTML=n,document.head.appendChild(r)}},t.registerTargetedStyle=function(e,t,n){var r,o=a.renderCss(e,t);null==i.styleTargets[t+"_"+n]?((r=document.createElement("STYLE")).innerHTML=o,i.styleTargets[t+"_"+n]=r,document.head.appendChild(r)):(r=i.styleTargets[t+"_"+n]).innerHTML=o},t.monitorTag=function(e){t.cssHackBaseElement.innerHTML+=e+"{display:none;animation-duration:0.01s;-o-animation-duration:0.01s;-ms-animation-duration:0.01s;-moz-animation-duration:0.01s;-webkit-animation-duration:0.01s;animation-name:nodeInserted;-o-animation-name:nodeInserted;-ms-animation-name:nodeInserted;-moz-animation-name:nodeInserted;-webkit-animation-name:nodeInserted}"},t.getById=function(e,t){return i.identifiedInstances[e]},t.setLoadNotify=function(e,t){i.identifiedNotifiers[e]=t},t}();t.DomManager=o}(CTAG||(CTAG={})),document.addEventListener("DOMContentLoaded",function(){CTAG.DomManager.initialize();var e=document.createEvent("Event");e.initEvent("CtagSetVariables",!1,!0),document.dispatchEvent(e);var t=document.createEvent("Event");t.initEvent("CtagBind",!1,!0),document.dispatchEvent(t);var n=document.createEvent("Event");n.initEvent("CtagReady",!1,!0),document.dispatchEvent(n)});