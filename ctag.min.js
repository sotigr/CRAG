var CTAG;!function(e){var t=function(){function e(){this.body=void 0,this.existingElementTarget=this.body}return e.prototype.register=function(e){this.body.innerHTML=e,this.instances=r.renderChildren(this.body);var t=this.body.querySelectorAll("[eid]");this.elements={};for(var n=0;n<t.length;n++)this.elements[t[n].getAttribute("eid")]=t[n]},e.prototype.staticStyles=function(e){r.registerStyle(e,null!=this.tagName?this.tagName:this.cssClassName)},e.prototype.styles=function(e,t){r.registerTargetedStyle(t,null!=this.tagName?this.tagName:this.cssClassName,e)},e.prototype.attr=function(e){var t=this.body.getAttribute(e);return null==t?"":t},e}();e.CtagBase=t;var n=function(){function e(){}return e.tagList=[],e.cssClassList=[],e.styleList=[],e.styleTargets=[],e.styleVariableList=[],e.identifiedInstances=[],e.identifiedNotifiers=[],e.bindToTag=function(t,n){if(t=t.toLowerCase(),null==e.tagList[t]){e.tagList[t]=n,r.monitorTag(t);for(var i=document.querySelectorAll(t),a=0;a<i.length;a++)r.render({target:i[a]})}else console.error("Ctag: This tag is already bound to a class.")},e.bindToClass=function(t,n){if(null==e.cssClassList[t]){e.cssClassList[t]=n,r.monitorClass(t);for(var i=document.querySelectorAll("."+t),a=0;a<i.length;a++)r.render({target:i[a]})}else console.error("Ctag: This css class is already bound to a class.")},e.registerVariable=function(t,n){e.styleVariableList[t]=n},e.registerId=function(t,n){e.identifiedInstances[t]=n},e}();e.CtagRegistry=n;var i=function(){function e(){}return e.getMatches=function(e,t,n){n||(n=1);for(var i,a=[];i=t.exec(e);)a.push(i[n]);return a},e}();e.RegExExtensions=i;var a=function(){function e(){}return e.renderCss=function(e,t){var a=e.replace(/(this\.)+/gi,t+" ."),r=i.getMatches(a,/~{([\d|\w|_]+)}/g,1);r=r.filter(function(e,t,n){return n.indexOf(e)===t});for(var s=0;s<r.length;s++)null!=n.styleVariableList[r[s]]&&(a=a.replace(new RegExp("(~{"+r[s]+"})","g"),n.styleVariableList[r[s]]));return a},e}();e.Renderer=a;var r=function(){function e(){}return e.cssHackBaseElement=null,e.initialized=!1,e.initialize=function(){e.initialized||(e.initialized=!0,e.cssHackBaseElement=document.createElement("STYLE"),e.cssHackBaseElement.setAttribute("type","text/css"),e.cssHackBaseElement.innerHTML="@keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-moz-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-webkit-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-ms-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-o-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}",document.addEventListener("animationstart",e.render,!0),document.addEventListener("MSAnimationStart",e.render,!0),document.addEventListener("webkitAnimationStart",e.render,!0),document.head.appendChild(e.cssHackBaseElement))},e.render=function(e){var t=void 0,i=void 0;if(null!=n.tagList[e.target.tagName.toLowerCase()]?(t=n.tagList[e.target.tagName.toLowerCase()],i="tag"):(t=n.cssClassList[e.target.classList[0].toLowerCase()],i="class"),null!=t&&null==e.target.getAttribute("ctag-rendered")){var a=new t;a.tagName="tag"==i?e.target.tagName.toLowerCase():void 0,a.cssClassName="class"==i?"."+e.target.classList[0].toLowerCase():void 0,a.body=e.target,a.load();var r=e.target.getAttribute("id");null!=r&&(n.registerId(r,a),null!=n.identifiedNotifiers[r]&&n.identifiedNotifiers[r](a));for(var s=0;s<e.target.attributes.length;s++)e.target.children[0].setAttribute(e.target.attributes[s].name,e.target.attributes[s].value);return e.target.setAttribute("ctag-rendered","true"),a}return null},e.renderChildren=function(t){for(var i={},a=0;a<n.tagList.length;a++)for(var r=t.querySelectorAll(n.tagList[a]),s=0;s<r.length;s++){var o=e.render({target:r[s]});null!=r[s].getAttribute("eid")&&(i[r[s].getAttribute("eid")]=o)}for(a=0;a<n.cssClassList.length;a++)for(var l=t.querySelectorAll(n.cssClassList[a]),d=0;d<l.length;d++){o=e.render({target:l["."+d]});null!=r[s].getAttribute("eid")&&(i[r[s].getAttribute("eid")]=o)}return i},e.registerStyle=function(e,t){if(null==n.styleList[t]){var i=a.renderCss(e,t);n.styleList[t]=i;var r=document.createElement("STYLE");r.innerHTML=i,document.head.appendChild(r)}},e.registerTargetedStyle=function(e,t,i){var r,s=a.renderCss(e,t);null==n.styleTargets[t+"_"+i]?((r=document.createElement("STYLE")).innerHTML=s,n.styleTargets[t+"_"+i]=r,document.head.appendChild(r)):(r=n.styleTargets[t+"_"+i]).innerHTML=s},e.monitorTag=function(t){e.cssHackBaseElement.innerHTML+=t+"{animation-duration:0.01s;-o-animation-duration:0.01s;-ms-animation-duration:0.01s;-moz-animation-duration:0.01s;-webkit-animation-duration:0.01s;animation-name:nodeInserted;-o-animation-name:nodeInserted;-ms-animation-name:nodeInserted;-moz-animation-name:nodeInserted;-webkit-animation-name:nodeInserted}"},e.monitorClass=function(t){e.cssHackBaseElement.innerHTML+="."+t+"{animation-duration:0.01s;-o-animation-duration:0.01s;-ms-animation-duration:0.01s;-moz-animation-duration:0.01s;-webkit-animation-duration:0.01s;animation-name:nodeInserted;-o-animation-name:nodeInserted;-ms-animation-name:nodeInserted;-moz-animation-name:nodeInserted;-webkit-animation-name:nodeInserted}"},e.getById=function(e,t){return n.identifiedInstances[e]},e.setLoadNotify=function(e,t){n.identifiedNotifiers[e]=t},e}();e.DomManager=r}(CTAG||(CTAG={})),CTAG.DomManager.initialize(),document.addEventListener("DOMContentLoaded",function(){var e=document.createEvent("Event");e.initEvent("CtagSetVariables",!1,!0),document.dispatchEvent(e);var t=document.createEvent("Event");t.initEvent("CtagBind",!1,!0),document.dispatchEvent(t);var n=document.createEvent("Event");n.initEvent("CtagReady",!1,!0),document.dispatchEvent(n)});